#include "interrupt.h"

XScuGic Intc;
XScuGic_Config* Inct_Config;

int IntcInitialize()
{
	int status;
	Intc_Config = XScuGic_LookupConfig(INTC_DEV_ID);
	status = XScuGic_CfgInitialize(&intc,intr_config,intr_config->CpuBaseAddress);
	if (status != XST_SUCCESS) {
		printf("Initialization intc failed %d\r\n", status);
	}

	Xil_ExceptionInit();
	Xil_ExceptionRegisterHandler(XIL_EXCEPTION_ID_INT,
			(Xil_ExceptionHandler)XScuGic_InterruptHandler,(void*)&Intc);
	Xil_ExceptionEnable();
}
