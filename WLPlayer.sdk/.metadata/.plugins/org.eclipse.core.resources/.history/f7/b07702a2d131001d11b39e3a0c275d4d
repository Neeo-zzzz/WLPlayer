#include "defs.h"
#include "audio.h"
#include "video.h"


int main()
{
	AudioInitialize();
	VideoInitialize();
	//PlayMusic("land_s.wav");
	PaintRectangular(0,0,1023,599,&Color_Black);
	PaintRectangular(200,20,10,12,&Color_Red);
	Xil_DCacheFlush();

	while(1)
	{
		//main transaction loop
		if(Music_Read_Permition)
		{
			Music_Read_Permition = 0;
			ReadWavMusic(Music_Play_Now,1);
		}
		if(Video_Update_Permit)
		{
			Video_Update_Permit = 0;
			UpdateWave();
			Xil_DCacheFlush();
		}
	}
}


